(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{23:function(e,t,n){e.exports=n(49)},28:function(e,t,n){},29:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(19),c=n.n(s),o=(n(28),n(29),n(2)),i=n(3),u=n(5),l=n(4),m=n(6),h=n(7),p=n(9),f=n(20),S=n.n(f),v=n(8),b=n(21),E=n.n(b),d=function(e){var t=e.onClick,n=e.className,a=e.children;return r.a.createElement("button",{onClick:t,className:n,type:"button"},a)},y={NONE:function(e){return e},TITLE:function(e){return Object(v.sortBy)(e,"title")},AUTHOR:function(e){return Object(v.sortBy)(e,"author")},COMMENTS:function(e){return Object(v.sortBy)(e,"num_comments").reverse()},POINTS:function(e){return Object(v.sortBy)(e,"points").reverse()}},g=function(e){var t=e.sortKey,n=e.activeSortKey,a=e.onSort,s=e.isSortReverse,c=e.children,o=E()("button-inline",{"button-active":t===n}),i=o.includes("button-active")?s?"./images/sort_down.png":"./images/sort_up.png":"";return r.a.createElement(d,{onClick:function(){return a(t)},className:o},!i||r.a.createElement("div",{className:"imageHolder"},r.a.createElement("img",{src:i,alt:"sort_icon"})),c)},O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={sortKey:"NONE",isSortReverse:!1},e.onSort=function(t){e.setState((function(e){var n=e.sortKey===t&&!e.isSortReverse;return{sortKey:t,isSortReverse:n}}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.onDismiss,a=this.state,s=a.sortKey,c=a.isSortReverse,o=y[s](t),i=c?o.reverse():o;return r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"table-header"},r.a.createElement("span",{className:"span-title"},r.a.createElement(g,{sortKey:"TITLE",onSort:this.onSort,activeSortKey:s,isSortReverse:c},"Title")),r.a.createElement("span",{className:"span-author"},r.a.createElement(g,{sortKey:"AUTHOR",onSort:this.onSort,activeSortKey:s,isSortReverse:c},"Author")),r.a.createElement("span",{className:"span-comments"},r.a.createElement(g,{sortKey:"COMMENTS",onSort:this.onSort,activeSortKey:s,isSortReverse:c},"Comments")),r.a.createElement("span",{className:"span-points"},r.a.createElement(g,{sortKey:"POINTS",onSort:this.onSort,activeSortKey:s,isSortReverse:c},"Points")),r.a.createElement("span",{className:"span-archive"},"Archive")),i.map((function(e){return r.a.createElement("div",{key:e.objectID,className:"table-row"},r.a.createElement("span",{className:"span-title"},r.a.createElement("a",{href:e.url},e.title)),r.a.createElement("span",{className:"span-author"},e.author),r.a.createElement("span",{className:"span-comments"},e.num_comments),r.a.createElement("span",{className:"span-points"},e.points),r.a.createElement("span",{className:"span-archive"},r.a.createElement(d,{onClick:function(){return n(e.objectID)},className:"button-inline"},"Dismiss")))})))}}]),n}(a.Component),N=n(22),j=function(){return r.a.createElement("div",null,"Loading ...",r.a.createElement("img",{src:"./images/spinner.gif",alt:""}))},T=function(e){return function(t){var n=t.isLoading,a=Object(N.a)(t,["isLoading"]);return n?r.a.createElement(j,null):r.a.createElement(e,a)}},K=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,s=t.onSubmit,c=t.children;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(e)}},r.a.createElement("input",{type:"text",value:n,onChange:a,ref:function(t){return e.input=t}}),r.a.createElement("button",{type:"submit",ref:function(t){return e.kek=t}},c))}}]),n}(a.Component),k="https://hn.algolia.com/api/v1",C=T((function(e){var t=e.list,n=e.onDismiss,a=e.onClick,s=e.className,c=void 0===s?"":s,o=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{list:t,onDismiss:n}),r.a.createElement(d,{onClick:a,className:c},o))})),D=function(e,t){return function(n){var a=n.searchKey,r=n.results,s=r&&r[a]?r[a].hits:[],c=[].concat(Object(p.a)(s),Object(p.a)(e));return{results:Object(h.a)(Object(h.a)({},r),{},Object(m.a)({},a,{hits:c,page:t})),isLoading:!1}}},w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={results:null,searchKey:"",searchTerm:"react",error:null,isLoading:!1},e._isMounted=!1,e.needsToSearchTopStories=function(t){return!e.state.results[t]},e.setSearchTopStories=function(t){var n=t.hits,a=t.page;e.setState(D(n,a))},e.fetchSearchTopStories=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.setState({isLoading:!0}),S()("".concat(k).concat("/search","?").concat("query=").concat(t,"&").concat("page=").concat(n,"&").concat("hitsPerPage=").concat("50")).then((function(t){e._isMounted&&e.setSearchTopStories(t.data)})).catch((function(t){return e.setState({error:t})}))},e.componentDidMount=function(){var t;e._isMounted=!0,e.setState((function(e){return{searchKey:t=e.searchTerm}}),(function(){e.fetchSearchTopStories(t)}))},e.componentWillUnmount=function(){e._isMounted=!1},e.onSearchChange=function(t){e.setState({searchTerm:t.target.value})},e.onSearchSubmit=function(t){var n;n=e.state.searchTerm,e.setState((function(e){return{searchKey:n=e.searchTerm}}),(function(){e.needsToSearchTopStories(n)&&e.fetchSearchTopStories(n)}))},e.onDismiss=function(t){e.setState((function(e){var n=e.searchKey,a=e.results,r=a[n],s=r.hits,c=r.page,o=s.filter((function(e){return e.objectID!==t}));return{results:Object(h.a)(Object(h.a)({},a),{},Object(m.a)({},n,{hits:o,page:c}))}}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.searchTerm,a=t.results,s=t.searchKey,c=t.error,o=t.isLoading,i=a&&a[s]&&a[s].page||0,u=a&&a[s]&&a[s].hits||[];return c?r.a.createElement("p",null,"Something went wrong."):r.a.createElement("div",{className:"page"},r.a.createElement("p",null,"What do you want to find?",r.a.createElement("br",null)),r.a.createElement(K,{value:n,onChange:this.onSearchChange,onSubmit:this.onSearchSubmit},"Search"),r.a.createElement(C,{isLoading:o,list:u,onDismiss:this.onDismiss,onClick:function(){return e.fetchSearchTopStories(s,i+1)}},"More"))}}]),n}(a.Component);c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d7b7c7f7.chunk.js.map