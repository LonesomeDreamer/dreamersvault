(this.webpackJsonpelfsight_task2=this.webpackJsonpelfsight_task2||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),u=(n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(1)),s=n(2),i=n(4),l=n(3),m=function(e){var t=e.children;return a.a.createElement("header",null,a.a.createElement("p",null,t))},p=function(){return a.a.createElement("div",{className:"sidebar"})},h=function(e){var t=e.prevWindow,n=void 0===t?"":t,r=e.children,o=e.onClick;return a.a.createElement("div",{id:"navbar"},a.a.createElement(a.a.Fragment,null,""==n||a.a.createElement("a",{id:"navbarBack",onClick:o,prevwindow:n.toLowerCase()},"\u2190 ","To ".concat(n))),a.a.createElement("div",{id:"navbarTitle"},r))},d=function(e){var t=e.name,n=e.userid,r=e.onClick,o=t.split(" ");return a.a.createElement("a",{className:"user",userid:n,onClick:r},a.a.createElement("img",{src:"./userpic.png",alt:"default user avatar"}),a.a.createElement("p",{className:"userFirstName"},o[0]),a.a.createElement("p",{className:"userLastName"},o[1]))},f=function(e){var t=e.title,n=e.preview,r=e.amount,o=e.albumid,c=e.onClick;return a.a.createElement("a",{className:"album",albumid:o,onClick:c},a.a.createElement("img",{src:"".concat(n),alt:"album preview photo"}),a.a.createElement("p",{className:"albumTitle"},t),a.a.createElement("p",{className:"amountOfPhotos"},"".concat(r," photos")))},g=function(e){var t=e.title,n=e.url,r=e.photoid,o=e.onClick;return a.a.createElement("a",{className:"photo",photoid:r,onClick:o},a.a.createElement("img",{src:"".concat(n),alt:"photo"}),a.a.createElement("p",{className:"photoTitle"},t))},v=function(e){var t=e.url,n=e.onClick;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"popupCover"}),a.a.createElement("div",{id:"popup",onClick:n},a.a.createElement("div",{id:"popupLeft"},a.a.createElement("svg",{id:"Layer_1",enableBackground:"new 0 0 56.69 56.69",height:"75",viewBox:"0 0 56.69 56.69",width:"75",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"m28.345 41.676c-1.202 0-2.332-.469-3.182-1.318l-17.66-17.662c-1.754-1.754-1.754-4.609 0-6.363.85-.85 1.98-1.318 3.183-1.318s2.333.468 3.182 1.318l14.477 14.479 14.478-14.479c.85-.85 1.979-1.318 3.182-1.318s2.332.468 3.182 1.318c.851.85 1.318 1.98 1.318 3.182s-.468 2.332-1.318 3.182l-17.659 17.658c-.851.853-1.982 1.321-3.183 1.321zm-17.659-24.661c-.668 0-1.296.26-1.769.732-.975.975-.975 2.561 0 3.535l17.66 17.661c.936.936 2.557.948 3.504.029l17.69-17.69c.473-.473.732-1.1.732-1.768s-.26-1.295-.732-1.768c-.945-.944-2.59-.944-3.535 0l-15.891 15.894-15.891-15.893c-.473-.472-1.1-.732-1.768-.732z"})))),a.a.createElement("img",{src:t,alt:"popup"}),a.a.createElement("div",{id:"popupRight"},a.a.createElement("svg",{id:"Layer_1",enableBackground:"new 0 0 56.69 56.69",height:"75",viewBox:"0 0 56.69 56.69",width:"75",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"m28.345 41.676c-1.202 0-2.332-.469-3.182-1.318l-17.66-17.662c-1.754-1.754-1.754-4.609 0-6.363.85-.85 1.98-1.318 3.183-1.318s2.333.468 3.182 1.318l14.477 14.479 14.478-14.479c.85-.85 1.979-1.318 3.182-1.318s2.332.468 3.182 1.318c.851.85 1.318 1.98 1.318 3.182s-.468 2.332-1.318 3.182l-17.659 17.658c-.851.853-1.982 1.321-3.183 1.321zm-17.659-24.661c-.668 0-1.296.26-1.769.732-.975.975-.975 2.561 0 3.535l17.66 17.661c.936.936 2.557.948 3.504.029l17.69-17.69c.473-.473.732-1.1.732-1.768s-.26-1.295-.732-1.768c-.945-.944-2.59-.944-3.535 0l-15.891 15.894-15.891-15.893c-.473-.472-1.1-.732-1.768-.732z"}))))))},b=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={currentView:"users",users:[],albums:[],photos:[],currentUserId:"",currentAlbumId:"",currentPhotoId:"",error:null,requiresUpdate:!0},e._isMounted=!1,e.componentDidMount=function(){e._isMounted=!0},e.componentWillUnmount=function(){e._isMounted=!1},e.getUsers=function(){var t=e.state.users;fetch("https://jsonplaceholder.typicode.com/users/",{method:"GET"}).then((function(n){e._isMounted&&n.json().then((function(n){if(t.length!==n.length)e.setState({users:n});else for(var r=0;r<n.length;r++)t[r].email!==n[r].email&&e.setState({users:n})}))})).catch((function(t){return e.setState({error:t})}))},e.showUsers=function(){var t=e.state.users;return a.a.createElement(a.a.Fragment,null,t.map((function(t,n){return a.a.createElement(d,{key:n,userid:t.id,name:t.name,onClick:e.onUserClick})})))},e.getAlbums=function(){var t=e.state.currentUserId;if(e._isMounted){fetch("".concat("https://jsonplaceholder.typicode.com/albums","?userId=").concat(t),{method:"GET"}).then((function(t){if(!t.ok)return!1;t.json().then((function(t){var n=[];n.length=t.length,t.forEach((function(t,r){e.getAlbumPreview(t.id).then((function(a){t.photo=a.thumbnailUrl,t.amountOfPhotos=a.amountOfPhotos,n[r]=t,e.setState({albums:n,requiresUpdate:!1})}))}))}))})).catch((function(t){e.setState({error:t})}))}},e.getAlbumPreview=function(t){return new Promise((function(n){fetch("".concat("https://jsonplaceholder.typicode.com/photos","?albumId=").concat(t),{method:"GET"}).then((function(t){if(e._isMounted){if(!t.ok)return!1;t.json().then((function(e){var t={};t.thumbnailUrl=e[0].thumbnailUrl,t.amountOfPhotos=e.length,n(t)}))}else n("")})).catch((function(t){e.setState({error:t})}))}))},e.showAlbums=function(){var t=e.state.albums;return a.a.createElement(a.a.Fragment,null,t.map((function(t,n){return a.a.createElement(f,{key:n,title:t.title,preview:t.photo,amount:t.amountOfPhotos,albumid:t.id,onClick:e.onAlbumClick})})))},e.getPhotos=function(){var t=e.state.currentAlbumId;if(e._isMounted){fetch("".concat("https://jsonplaceholder.typicode.com/photos","?albumId=").concat(t),{method:"GET"}).then((function(t){if(!t.ok)return!1;t.json().then((function(t){var n=[];n.length=t.length,t.forEach((function(t,r){n[r]=t,e.setState({photos:n,requiresUpdate:!1})}))}))})).catch((function(t){e.setState({error:t})}))}},e.showPhotos=function(){var t=e.state.photos;return a.a.createElement(a.a.Fragment,null,t.map((function(t,n){return a.a.createElement(g,{key:n,title:t.title,url:t.url,photoid:n,onClick:e.onPhotoClick})})))},e.showPopups=function(){var t=e.state.currentPhotoId,n=e.state.photos[t].url;return a.a.createElement(v,{url:n,onClick:e.onPopupClick})},e.onNavbarClick=function(t){var n=t.currentTarget.getAttribute("prevwindow");e.setState({requiresUpdate:!1,currentView:n})},e.onUserClick=function(t){var n=parseInt(t.currentTarget.getAttribute("userid"));n===e.state.currentUserId?e.setState({requiresUpdate:!1,currentUserId:n,currentView:"albums"}):e.setState({requiresUpdate:!0,currentUserId:n,albums:[],currentView:"albums"})},e.onAlbumClick=function(t){var n=parseInt(t.currentTarget.getAttribute("albumid"));n===e.state.currentAlbumId?e.setState({requiresUpdate:!1,currentAlbumId:n,currentView:"photos"}):e.setState({requiresUpdate:!0,currentAlbumId:n,photos:[],currentView:"photos"})},e.onPhotoClick=function(t){var n=parseInt(t.currentTarget.getAttribute("photoid"));e.setState({requiresUpdate:!1,currentPhotoId:n,currentView:"popups"})},e.onPopupLeftClick=function(){var t=e.state.currentPhotoId;t=(t-1)%e.state.photos.length,e.setState({currentPhotoId:t})},e.onPopupRightClick=function(){var t=e.state.currentPhotoId;t=(t+1)%e.state.photos.length,e.setState({currentPhotoId:t})},e.onPopupEmptyClick=function(){e.setState({currentView:"photos"})},e.onPopupClick=function(t){var n=t.currentTarget.querySelector("#popupLeft"),r=t.currentTarget.querySelector("#popupRight"),a=t.currentTarget.querySelector("img");if(n.contains(t.target)){var o=e.state.currentPhotoId;o=(o-1+e.state.photos.length)%e.state.photos.length,e.setState({currentPhotoId:o})}else if(r.contains(t.target)){var c=e.state.currentPhotoId;c=(c+1+e.state.photos.length)%e.state.photos.length,e.setState({currentPhotoId:c})}else a.contains(t.target)||e.setState({currentView:"photos"})},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this.state,r=n.currentView,o=n.error,c=n.requiresUpdate,u="users"===r?"":"albums"===r?"Users":"Albums";if("users"===r?(c&&this.getUsers(),e=this.showUsers()):"albums"===r?(c&&this.getAlbums(),e=this.showAlbums()):(c&&this.getPhotos(),e=this.showPhotos(),"popups"===r&&(t=this.showPopups())),this._isMounted){var s,i=document.querySelector("main #content"),l=window.getComputedStyle(i).width;s=window.screen.availWidth<900?130:200,i.style.padding="0px ".concat(parseInt(l)%s/2,"px")}return o?a.a.createElement("p",null,"Something went wrong."):a.a.createElement("main",null,a.a.createElement(h,{prevWindow:u,onClick:this.onNavbarClick},"popups"!==r?r.toUpperCase():"PHOTOS"),a.a.createElement("div",{id:"content"},e),"popups"!==r||t)}}]),n}(r.Component),E=function(){return a.a.createElement("div",{id:"main"},a.a.createElement(p,null),a.a.createElement(b,null),a.a.createElement(p,null))},w=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440 2"),a.a.createElement(E,null))}}]),n}(r.Component);c.a.render(a.a.createElement(w,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.2efd40e1.chunk.js.map